version: '3.8'

services:
  task-review-manager:
    build: .
    container_name: task-review-manager-mcp
    volumes:
      # Shared SQLite database volume (persistent across container restarts)
      - task-review-data:/data
    ports:
      # Expose dashboard port (optional, uncomment to use web dashboard)
      - "5111:5111"
    environment:
      - NODE_ENV=production
      - DATABASE_PATH=/data/tasks.db
      - ENABLE_DASHBOARD=true
    # Keep container running to accept stdio connections
    stdin_open: true
    tty: true
    restart: unless-stopped

volumes:
  # Named volume for shared database
  task-review-data:
    driver: local
